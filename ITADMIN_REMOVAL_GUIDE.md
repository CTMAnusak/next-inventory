# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏•‡∏ö ITAdmin Collection

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏•‡∏ö collection `itadmins` ‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ `userRole` ‡πÉ‡∏ô `users` collection ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥

### ‚úÖ **‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß**
- `src/models/ITAdmin.ts` - Model ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ITAdmin
- `src/app/api/admin/it-admins/route.ts` - API route ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ITAdmin
- Collection `itadmins` ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### ‚úÖ **‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô**
- `userRole: 'it_admin'` ‡πÉ‡∏ô `users` collection
- `/api/admin/users` API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ IT Admin
- ‡∏´‡∏ô‡πâ‡∏≤ **Admin ‚Üí Users** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô role

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ IT Admin

### 1. **‡πÄ‡∏û‡∏¥‡πà‡∏° IT Admin ‡πÉ‡∏´‡∏°‡πà**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Admin ‚Üí Users**
2. ‡∏´‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç** (Edit)
4. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô **Role** ‡πÄ‡∏õ‡πá‡∏ô **"Admin ‡∏ó‡∏µ‡∏° IT"**
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å**

### 2. **‡∏•‡∏ö IT Admin**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Admin ‚Üí Users**
2. ‡∏´‡∏≤ IT Admin ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç** (Edit)
4. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô **Role** ‡πÄ‡∏õ‡πá‡∏ô **"User"**
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å**

### 3. **‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ IT Admin**
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Admin ‚Üí Users**
- ‡∏Å‡∏£‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢ **Role: "Admin ‡∏ó‡∏µ‡∏° IT"**
- ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Admin ‚Üí IT Reports** ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ IT Admin ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

## ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Script ‡∏•‡∏ö Collection

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
```bash
# ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô
mongodump --uri="your-mongodb-uri" --out=./backup-before-removal
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏£‡∏±‡∏ô Script ‡∏•‡∏ö Collection
```bash
# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ MongoDB URI (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
export MONGODB_URI="your-mongodb-connection-string"

# ‡∏£‡∏±‡∏ô script ‡∏•‡∏ö collection
node remove-itadmin-collection.js
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
Script ‡∏à‡∏∞:
- ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• `itadmins` (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
- ‡∏•‡∏ö collection `itadmins`
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ collections ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà

### ‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• IT Admin
```javascript
// ‡πÄ‡∏Å‡πà‡∏≤ - ‡πÉ‡∏ä‡πâ collection ‡πÅ‡∏¢‡∏Å
const itAdmins = await ITAdmin.find({});

// ‡πÉ‡∏´‡∏°‡πà - ‡πÉ‡∏ä‡πâ users collection
const itAdmins = await User.find({ 
  userRole: 'it_admin',
  isApproved: true 
});
```

### ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠ IT Admin
```javascript
// ‡πÄ‡∏Å‡πà‡∏≤ - ‡πÉ‡∏ä‡πâ name field
const name = admin.name;

// ‡πÉ‡∏´‡∏°‡πà - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏≤‡∏Å user data
const name = user.userType === 'individual' 
  ? `${user.firstName} ${user.lastName}`.trim()
  : user.office;
```

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö

### 1. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö**
- ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏±‡∏ç‡∏ä‡∏µ IT Admin
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤ Admin ‡πÑ‡∏î‡πâ

### 2. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡∏á‡∏≤‡∏ô**
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Admin ‚Üí IT Reports**
- ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ IT Admin
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ IT Admin ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### 3. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ**
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Admin ‚Üí Users**
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô role ‡πÄ‡∏õ‡πá‡∏ô IT Admin
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô role ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô User

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÑ‡∏°‡πà‡∏û‡∏ö IT Admin ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: ‡πÑ‡∏°‡πà‡∏°‡∏µ User ‡∏ó‡∏µ‡πà‡∏°‡∏µ `userRole: 'it_admin'`

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```javascript
// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏ô MongoDB
db.users.find({ userRole: 'it_admin' })

// ‡πÄ‡∏û‡∏¥‡πà‡∏° IT Admin ‡πÉ‡∏´‡∏°‡πà
db.users.updateOne(
  { email: 'admin@example.com' },
  { $set: { userRole: 'it_admin' } }
)
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: IT Admin ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: Permission ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
```javascript
// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö User role ‡πÅ‡∏•‡∏∞ permissions
db.users.findOne({ email: 'admin@example.com' })

// ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï permissions
db.users.updateOne(
  { email: 'admin@example.com' },
  { 
    $set: { 
      userRole: 'it_admin',
      isApproved: true 
    }
  }
)
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: Frontend ‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ API ‡πÄ‡∏Å‡πà‡∏≤

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ frontend ‡πÉ‡∏ä‡πâ `/api/admin/users` ‡πÅ‡∏ó‡∏ô `/api/admin/it-admins`
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á `userRole: 'it_admin'`

## ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

### ‚úÖ **‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô**
- ‡πÑ‡∏°‡πà‡∏°‡∏µ collection ‡πÅ‡∏¢‡∏Å
- ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö role ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

### ‚úÖ **‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô**
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Users ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 2 ‡∏ó‡∏µ‡πà

### ‚úÖ **‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô**
- Query ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á join ‡∏´‡∏•‡∏≤‡∏¢ collection

### ‚úÖ **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô**
- ‡πÄ‡∏û‡∏¥‡πà‡∏° role ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô role ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

## ‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô:
- `./backup_migration/backup_itadmins_before_delete_[timestamp].json`

**‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥**: ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏£‡∏≠‡∏á‡πÑ‡∏ß‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 30 ‡∏ß‡∏±‡∏ô

## ‡∏™‡∏£‡∏∏‡∏õ

‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏•‡∏ö collection `itadmins` ‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ `userRole` ‡πÉ‡∏ô `users` collection ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏ã‡∏∂‡πà‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ:

- **‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢**: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô
- **‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û**: Query ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
- **‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ role ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
- **‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á**: ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö

üéâ **‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!** üéâ
